{"version":3,"sources":["Match.js"],"names":["Constants","require","STAND","cc","Class","extends","Component","properties","onLoad","console","log","G","queueSocket","io","connect","on","stand","BLACK","WHITE","roomId","roomSocket","disconnect","director","loadScene","onBtnCancel"],"mappings":";;;;;;AACA,IAAMA,YAAYC,QAAQ,WAAR,CAAlB;AACA,IAAMC,QAAQF,UAAUE,KAAxB;;AAEAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY,EAHP;;AAML;;AAEAC,UARK,oBAQK;AACNC,gBAAQC,GAAR,CAAYV,SAAZ;AACAW,UAAEC,WAAF,GAAgBC,GAAGC,OAAH,CAAW,sBAAX,EAAmC,EAAE,wBAAwB,IAA1B,EAAnC,CAAhB;AACAH,UAAEC,WAAF,CAAcG,EAAd,CAAiB,WAAjB,EAA8B,UAAUC,KAAV,EAAiB;AAC3C,gBAAIA,UAAU,OAAd,EAAuB;AACnBL,kBAAEK,KAAF,GAAUd,MAAMe,KAAhB;AACH,aAFD,MAEO,IAAID,UAAU,OAAd,EAAuB;AAC1BL,kBAAEK,KAAF,GAAUd,MAAMgB,KAAhB;AACH;AACDT,oBAAQC,GAAR,CAAYC,EAAEK,KAAd;AACH,SAPD;AAQAL,UAAEC,WAAF,CAAcG,EAAd,CAAiB,eAAjB,EAAkC,UAAUI,MAAV,EAAkB;AAChDV,oBAAQC,GAAR,CAAY,mBAAmBS,MAA/B;AACAR,cAAES,UAAF,GAAeP,GAAGC,OAAH,CAAW,wBAAwBK,MAAnC,EAA4C,EAAE,wBAAwB,IAA1B,EAA5C,CAAf;AACAR,cAAEC,WAAF,CAAcS,UAAd;AACAlB,eAAGmB,QAAH,CAAYC,SAAZ,CAAsB,MAAtB;AACH,SALD;AAMH,KAzBI;;;AA2BL;AACAC,eA5BK,yBA4BS;AACVb,UAAEC,WAAF,CAAcS,UAAd;AACAlB,WAAGmB,QAAH,CAAYC,SAAZ,CAAsB,MAAtB;AACH;AA/BI;;AAiCL;;AAEA;;AAEA;AArCJ","file":"Match.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\script\\manager","sourcesContent":["\r\nconst Constants = require('Constants');\r\nconst STAND = Constants.STAND;\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n        console.log(Constants)\r\n        G.queueSocket = io.connect('127.0.0.1:4747/queue', { 'force new connection': true });\r\n        G.queueSocket.on('set stand', function (stand) {\r\n            if (stand === 'black') {\r\n                G.stand = STAND.BLACK;\r\n            } else if (stand === 'white') {\r\n                G.stand = STAND.WHITE;\r\n            }\r\n            console.log(G.stand)\r\n        });\r\n        G.queueSocket.on('match success', function (roomId) {\r\n            console.log('match success:' + roomId);\r\n            G.roomSocket = io.connect('127.0.0.1:4747/room' + roomId,  { 'force new connection': true });\r\n            G.queueSocket.disconnect();\r\n            cc.director.loadScene('Game');\r\n        });\r\n    },\r\n\r\n    // 取消匹配\r\n    onBtnCancel() {\r\n        G.queueSocket.disconnect();\r\n        cc.director.loadScene('Menu');\r\n    },\r\n\r\n    // start () {\r\n\r\n    // },\r\n\r\n    // update (dt) {},\r\n});\r\n"]}